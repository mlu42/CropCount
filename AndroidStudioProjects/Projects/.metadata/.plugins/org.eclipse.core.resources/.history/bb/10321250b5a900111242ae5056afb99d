package ipcm.calc.nrate;

import android.app.Activity;
import android.os.Bundle;
import android.util.TypedValue;
import android.view.Display;
import android.view.ViewGroup;
import android.widget.EditText;
import android.widget.LinearLayout;
import android.widget.TextView;

public class Calculator extends Activity{

	/** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
    	super.onCreate(savedInstanceState);
        setContentView(R.layout.calculator);
        
        /* 
         * 
         * This up here is all just dealing with layout
         * 
         */
        
        	/*
        	 * Layout for the first row of inputs
        	 */
        // Gets the width and height of the display we are working with
        Display display = getWindowManager().getDefaultDisplay();
        int width = display.getWidth();
        int height = display.getHeight();
        
        // The layout that the three top inputs are nested in
        LinearLayout inputLayout = (LinearLayout) findViewById(R.id.inputLayout);
        
        // Sets the padding of the layout. My padding in the mock-up I drew was 30px for a 480px screen, hence the /16.
        int padding = width/16;
        inputLayout.setPadding(padding, padding, padding, padding);
        
        // Get the EditText objects
        EditText fertPriceET = (EditText) findViewById(R.id.fert_price_input);
        EditText nPercentET = (EditText) findViewById(R.id.percent_n_input);
        EditText cornPriceET = (EditText) findViewById(R.id.corn_price_input);
        
        // Get their default padding and width. All these values will be based on my mock-up.
        int inputWidth = width/4;
        int inputPadding = padding;
        
        // Set their text size to be dynamic
        fertPriceET.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/20);
        nPercentET.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/20);
        cornPriceET.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/20);
        
        // Set their dimensions and paddings       
        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(inputWidth, inputWidth/2);
        params.setMargins(0, 0, inputPadding, 0);
        fertPriceET.setLayoutParams(params);
        nPercentET.setLayoutParams(params);
        cornPriceET.setLayoutParams(params);
        
        // Get the input labels
        TextView fertPriceLabel = (TextView) findViewById(R.id.fert_price_label);
        TextView nPercentLabel = (TextView) findViewById(R.id.percent_n_label);
        TextView cornPriceLabel = (TextView) findViewById(R.id.corn_price_label);
        
        // Set text size to be dynamic
        fertPriceLabel.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/32);
        nPercentLabel.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/32);
        cornPriceLabel.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/32);        
        
        // Set the labels' dimensions
        params = new LinearLayout.LayoutParams(inputWidth, ViewGroup.LayoutParams.WRAP_CONTENT);
        fertPriceLabel.setLayoutParams(params);
        nPercentLabel.setLayoutParams(params);
        cornPriceLabel.setLayoutParams(params);
        
        // Set the labels' paddings
        fertPriceLabel.setPadding(0, inputPadding/7, inputPadding/15, inputPadding/5);
        nPercentLabel.setPadding(0, inputPadding/7, inputPadding/15, inputPadding/5);
        cornPriceLabel.setPadding(0, inputPadding/7, inputPadding/15, inputPadding/5);
        
        	/*
        	 * Layout for the second row of inputs
        	 */
        
        // Get the TextView objects
        TextView nPriceLabel = (TextView) findViewById(R.id.percent_n_pound_label);
        TextView nPriceValue = (TextView) findViewById(R.id.percent_n_pound_value);
        TextView nCornLabel = (TextView) findViewById(R.id.n_corn_label);
        TextView nCornValue = (TextView) findViewById(R.id.n_corn_value);
        
        // Set their text size
        nPriceLabel.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/32);
        nCornLabel.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/32);
        nPriceValue.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/24);
        nCornValue.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/24);
        
        // Set appropriate paddings
        nPriceLabel.setPadding(inputPadding/5, inputPadding/5, inputPadding/5, inputPadding/5);
        nPriceValue.setPadding(inputPadding/3, 0, inputPadding/3, 0);
        nCornLabel.setPadding(inputPadding/5, 0, inputPadding/5, 0);
        nCornValue.setPadding(inputPadding/3, 0, inputPadding/3, 0);
        
        params = (LinearLayout.LayoutParams) nPriceValue.getLayoutParams();
        params.rightMargin = width/16;
        
        	/*
        	 * Layout for the soil yield header
        	 */
        
        // Get the header
        TextView soilYieldHeader = (TextView) findViewById(R.id.soil_yield_header);
        
        // Set the text size
        soilYieldHeader.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/24);
        
        // Set appropriate paddings
        soilYieldHeader.setPadding(0, width/12, 0, 0);
        
        	/*
        	 * Layout for the soil yield picker
        	 */
        
        // Get the TextViews
        TextView highYield = (TextView) findViewById(R.id.high_yield);
        TextView mediumYield = (TextView) findViewById(R.id.medium_yield);
        TextView sandsYield = (TextView) findViewById(R.id.sands_yield);
        
        // Set the text size
        highYield.setTextSize(TypedValue.COMPLEX_UNIT_DIP, width/24);
        
    }
}
